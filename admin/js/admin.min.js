const preview=document.getElementById("csPreview");function replace_tags(e,t,l){let a=l.indexOf(e);for(;-1!==a;)l=l.replace(e,t),a=l.indexOf(e);return l}preview.addEventListener("click",function(e){e.preventDefault();e=document.getElementById("subject").value;let t=document.getElementById("message").value;e=replace_tags("{title}","Sample Title",e),e=replace_tags("{name}","You",e),e=replace_tags("{author}","Bob",e),t=replace_tags("{title}","Sample Title",t),t=replace_tags("{name}","You",t),t=replace_tags("{author}","Bob",t),t=replace_tags("{content}","I totally agree with your opinion about him, he's really...",t),t=replace_tags("{link}","#",t),t=replace_tags("{comment_link}","#",t),t=replace_tags("{unsubscribe}","#",t),t=t.replace(/\n/g,"<br />");const l=window.open("","cs","status=0,toolbar=0,scrollbars=1,height=400,width=550").document;return l.write('<html lang="en"><head><title>Email preview</title>'),l.write("</head><body>"),l.write('<table style="width:100%;border:1px solid #ccc;border-spacing:0;">'),l.write('<tr><td style="padding:5px;text-align:right"><b>Subject</b></td><td>'+e+"</td></tr>"),l.write('<tr><td style="padding:5px;text-align:right"><b>From</b></td><td>'+document.getElementById("from_name").value+" &lt;"+document.getElementById("from_email").value+"&gt;</td></tr>"),l.write('<tr><td style="padding:5px;text-align:right"><b>To</b></td><td>User name &lt;user@email&gt;</td></tr>'),l.write('<tr><td style="padding:5px;text-align:left" colspan="2">'+t+"</td></tr>"),l.write("</table>"),l.write("</body></html>"),l.close(),!1});